"use strict";(self.webpackChunkwebframeworks_cursus=self.webpackChunkwebframeworks_cursus||[]).push([[6027],{28453:(e,n,t)=>{t.d(n,{R:()=>a,x:()=>s});var r=t(96540);const o={},i=r.createContext(o);function a(e){const n=r.useContext(i);return r.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function s(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(o):e.components||o:a(e.components),r.createElement(i.Provider,{value:n},e.children)}},40394:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>c,contentTitle:()=>s,default:()=>l,frontMatter:()=>a,metadata:()=>r,toc:()=>u});const r=JSON.parse('{"id":"react-native-course/extra/voorbeelden","title":"Extra voorbeelden","description":"In dit onderdeel vind je een aantal voorbeeld applicaties die in de les gebruikt worden of als extra oefening kunnen dienen.","source":"@site/docs/react-native-course/extra/voorbeelden.md","sourceDirName":"react-native-course/extra","slug":"/react-native-course/extra/voorbeelden","permalink":"/webframeworks-cursus/react-native-course/extra/voorbeelden","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{},"sidebar":"reactNative","previous":{"title":"Platform Specific Code","permalink":"/webframeworks-cursus/react-native-course/extra/platform-specific-code"},"next":{"title":"Labo","permalink":"/webframeworks-cursus/react-native-course/labs/"}}');var o=t(74848),i=t(28453);const a={},s="Extra voorbeelden",c={},u=[{value:"Cookie Clicker (AsyncStorage)",id:"cookie-clicker-asyncstorage",level:2}];function d(e){const n={code:"code",h1:"h1",h2:"h2",header:"header",p:"p",pre:"pre",...(0,i.R)(),...e.components};return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(n.header,{children:(0,o.jsx)(n.h1,{id:"extra-voorbeelden",children:"Extra voorbeelden"})}),"\n",(0,o.jsx)(n.p,{children:"In dit onderdeel vind je een aantal voorbeeld applicaties die in de les gebruikt worden of als extra oefening kunnen dienen."}),"\n",(0,o.jsx)(n.h2,{id:"cookie-clicker-asyncstorage",children:"Cookie Clicker (AsyncStorage)"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-typescript",metastring:'expo={"dependencies":"@react-native-async-storage/async-storage"}',children:'import { Text, View, Button, Pressable, ActivityIndicator, Animated } from "react-native";\nimport AsyncStorage from "@react-native-async-storage/async-storage";\nimport { useEffect, useRef, useState } from "react";\n\ninterface Item {\n    id: number;\n    price: number;\n    name: string;\n    amount: number;\n    cps: number;\n}\n\nconst DEFAULT_ITEMS: Item[] = [\n    { id: 0, price: 15, name: "pointer", amount: 0, cps: 0.1 },\n    { id: 1, price: 100, name: "grandma", amount: 0, cps: 1 },\n    { id: 2, price: 1100, name: "farm", amount: 0, cps: 8 },\n    { id: 3, price: 12000, name: "mine", amount: 0, cps: 47 },\n    { id: 4, price: 130000, name: "factory", amount: 0, cps: 260 },\n    { id: 5, price: 1400000, name: "bank", amount: 0, cps: 1400 },\n];\n\nconst Cookie = ({ onPress }: { onPress: () => void }) => {\n    const scale = useRef(new Animated.Value(1)).current;\n\n    const handlePress = () => {\n        Animated.sequence([\n            Animated.timing(scale, {\n                toValue: 1.1,\n                duration: 100,\n                useNativeDriver: true,\n            }),\n            Animated.timing(scale, {\n                toValue: 1,\n                duration: 100,\n                useNativeDriver: true,\n            }),\n        ]).start();\n        onPress();\n    };\n\n    return (\n        <Pressable onPress={handlePress}>\n            <Animated.View style={{ borderRadius: 100, width: 200, height: 200, backgroundColor: "#A8926F", transform: [{ scale }] }}>\n                \n            </Animated.View>\n        </Pressable>\n    )\n}\n\nconst CookieClicker = () => {\n    const [counter, setCounter] = useState<number>(0);\n    const [inventory, setInventory] = useState<Item[] | undefined>(undefined);\n    const cps = inventory ? inventory.reduce((total, item) => total + (item.cps * item.amount), 0) : 0;\n\n    const buyItem = (id: number) => {\n        let foundItem: Item | undefined = DEFAULT_ITEMS.find(item => item.id === id);\n        if (!foundItem || !inventory) return;\n        if (counter < foundItem.price) {\n            alert("Not enough cookies!");\n            return;\n        }\n        setCounter(counter => counter - foundItem.price);\n        setInventory(inventory.map(item => {\n            if (item.id === id) {\n                return { ...item, amount: item.amount + 1 }\n            } else {\n                return item;\n            }\n        }));\n    }\n\n    useEffect(() => {\n        const cb = setInterval(() => {\n            setCounter(prev => {\n                if (!inventory) return prev;\n                return prev + cps * 0.1;\n            });\n        }, 100);\n\n        return () => {\n            clearInterval(cb);\n        }\n    }, [inventory, cps]);\n\n    useEffect(() => {\n        const loadData = async () => {\n            const value = await AsyncStorage.getItem("counter");\n            if (value !== null) {\n                setCounter(parseInt(value));\n            }\n            const inventory = await AsyncStorage.getItem("inventory");\n            if (inventory !== null) {\n                setInventory(JSON.parse(inventory));\n            } else {\n                setInventory(DEFAULT_ITEMS);\n            }\n        }\n        loadData();\n    }, []);\n\n    useEffect(() => {\n        const storeData = async () => {\n            await AsyncStorage.setItem("counter", counter.toString());\n        }\n        storeData();\n    }, [counter]);\n\n    useEffect(() => {\n        const storeData = async () => {\n            await AsyncStorage.setItem("inventory", JSON.stringify(inventory));\n        }\n        if (inventory !== undefined) {\n            storeData();\n        }\n    }, [inventory]);\n\n    const handlePress = () => {\n        setCounter(counter => counter + 1);\n    };\n\n    if (inventory === undefined) {\n        return (\n            <View>\n                <ActivityIndicator animating={true} />\n            </View>\n        )\n    }\n\n    return (\n        <View\n            style={{\n                flex: 1,\n                flexDirection: "column",\n                justifyContent: "center",\n                alignItems: "stretch",\n            }}\n        >\n            <View style={{ flex: 1, justifyContent: "center", alignItems: "center" }}>\n                <View style={{ margin: 20, alignItems: "center" }}>\n                    <Text style={{ fontSize: 40 }}>{Math.floor(counter)}</Text>\n                    <Text>per second {cps.toFixed(1)}</Text>\n                </View>\n                <Cookie onPress={handlePress} />\n            </View>\n\n\n            <View style={{ flex: 1 }}>\n                {\n                    inventory.map(item => <Button key={item.id} title={`${item.name} (${item.price}) - Owned: ${item.amount}`} onPress={() => buyItem(item.id)} />)\n                }\n                <Button title="Reset Game" onPress={async () => {\n                    setCounter(0);\n                    setInventory(DEFAULT_ITEMS);\n                    await AsyncStorage.removeItem("counter");\n                    await AsyncStorage.removeItem("inventory");\n                }} />\n            </View>\n\n\n        </View>\n    );\n}\n\nexport default CookieClicker;\n'})})]})}function l(e={}){const{wrapper:n}={...(0,i.R)(),...e.components};return n?(0,o.jsx)(n,{...e,children:(0,o.jsx)(d,{...e})}):d(e)}}}]);