"use strict";(self.webpackChunkwebframeworks_cursus=self.webpackChunkwebframeworks_cursus||[]).push([[265],{2519:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>T,contentTitle:()=>z,default:()=>q,frontMatter:()=>A,metadata:()=>j,toc:()=>D});var a=n(7462),o=n(7294),r=n(3905),i=n(6460),l=n(9111);const d=e=>{let{question:t,userAnswer:n,setUserAnswer:a}=e;return o.createElement("div",null,o.createElement("input",{type:"radio",checked:"True"==n,onChange:e=>a("True")})," True",o.createElement("input",{type:"radio",checked:"False"==n,onChange:e=>a("False")})," False")},p=e=>{let{question:t,setUserAnswer:n,userAnswer:a}=e,r="white";return void 0!==a&&(r=a==t.correct_answer?"lightgreen":"red"),o.createElement("div",{style:{backgroundColor:r}},o.createElement("div",null,(0,l.decode)(t.question)),void 0===a?o.createElement("div",null,"boolean"===t.type&&o.createElement(d,{question:t,setUserAnswer:n,userAnswer:a}),"multiple"===t.type&&o.createElement(s,{question:t,setUserAnswer:n,userAnswer:a})):o.createElement("div",{style:{fontWeight:"bold"}},a!==t.correct_answer?o.createElement("p",null,"You answered ",a," and the correct answer was ",t.correct_answer):o.createElement("p",null,"You answered ",a," which is the correct answer")))},s=e=>{let{question:t,setUserAnswer:n}=e,a=[t.correct_answer,...t.incorrect_answers];return a.sort((()=>Math.random()-.5)),o.createElement("select",{onChange:e=>n(e.target.value)},o.createElement("option",{value:""},"Select an answer"),a.map(((e,t)=>o.createElement("option",{key:t,value:e},(0,l.decode)(e)))))},u=()=>o.createElement(i.NB,{visible:!0,height:"80",width:"80",ariaLabel:"blocks-loading",wrapperStyle:{},wrapperClass:"blocks-wrapper",colors:["#e15b64","#f47e60","#f8b26a","#abbd81","#849b87"]}),c=()=>{const[e,t]=(0,o.useState)([]),[n,a]=(0,o.useState)(!1),r=async()=>{a(!0);let n=await fetch("https://opentdb.com/api.php?amount=10"),o=await n.json();t([...e,...o.results]),a(!1)};return(0,o.useEffect)((()=>{r()}),[]),o.createElement(o.Fragment,null,e.map(((n,a)=>o.createElement(p,{question:n,userAnswer:n.user_answer,setUserAnswer:n=>{let o=[...e];o[a].user_answer=n,t(o)}}))),o.createElement("button",{onClick:r},"Load More"),n&&o.createElement("div",null,o.createElement(u,null)))},m=()=>o.createElement(o.Fragment,null,o.createElement(c,null)),k=e=>{let{addTodo:t}=e;const[n,a]=(0,o.useState)("");return o.createElement("div",null,o.createElement("input",{id:"todo",type:"text",value:n,onChange:e=>a(e.target.value)}),o.createElement("button",{onClick:()=>{t(n),a("")}},"Add"))},v=e=>{let{todos:t,markCompleted:n}=e;return o.createElement("div",null,t.map(((e,t)=>o.createElement(g,{key:t,todo:e,markCompleted:e=>n(t,e)}))))},g=e=>{let{todo:t,markCompleted:n}=e;return o.createElement("div",null,o.createElement("input",{type:"checkbox",checked:t.completed,onChange:e=>n(e.target.checked)}),o.createElement("span",{style:{textDecoration:t.completed?"line-through":"none"}},t.name))},b=()=>{const[e,t]=(0,o.useState)([]);return o.createElement("div",null,o.createElement(k,{addTodo:n=>{t([...e,{name:n,completed:!1}])}}),o.createElement(v,{markCompleted:(n,a)=>{t(e.map(((e,t)=>t===n?{...e,completed:a}:e)))},todos:e}))},C="joske_PLu8",w="squareRow_r9VH",N=e=>{let{square:t,onClick:n,work:a,setProductivity:r,useProductivity:i}=e;const[l,d]=(0,o.useState)(0);(0,o.useEffect)((()=>{if(i){let e=-1;return l>=10&&(r(0),e=setTimeout((()=>{r(1),d(0)}),5e3)),()=>{-1!==e&&clearTimeout(e)}}}),[l,i]);let p="\ud83d\ude10";return 100===a?p="\ud83e\udd70":0===t.productivity?p="\ud83d\ude35":t.productivity>0&&(p="\ud83d\ude10"),o.createElement("div",{className:C,style:{backgroundColor:t.color,width:t.size,height:t.size},onClick:()=>{a<100&&(d((e=>e+1)),n())}},o.createElement("p",null,p))},h=e=>{let{useProductivity:t=!0}=e;const[n,a]=(0,o.useState)(0),[r,i]=(0,o.useState)([{name:"Joske",size:100,color:"red",productivity:1},{name:"Franske",size:100,color:"green",productivity:1},{name:"Louise",size:100,color:"pink",productivity:1}]);return o.createElement(o.Fragment,null,o.createElement("progress",{id:"file",max:"100",value:n},n,"%"),o.createElement("div",{className:w},r.map((e=>o.createElement(N,{key:e.name,useProductivity:t,square:e,onClick:()=>a((t=>t+1*e.productivity)),work:n,setProductivity:t=>((e,t)=>{let n=r.findIndex((t=>t.name===e));-1!==n&&i((e=>e.map(((e,a)=>a===n?{...e,productivity:t}:e))))})(e.name,t)})))))},y=e=>{let{counter:t,index:n,onIncrease:a,onDecrease:r}=e,i="black";return t>0?i="green":t<0&&(i="red"),o.createElement("div",{style:{display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"center"}},o.createElement("button",{onClick:r},"Omlaag"),o.createElement("div",{style:{flex:1,display:"flex",justifyContent:"center",alignItems:"center",color:i}},"Count: ",t),o.createElement("button",{onClick:a},"Omhoog"))},f=()=>{const[e,t]=(0,o.useState)([]);return o.createElement(o.Fragment,null,e.map(((n,a)=>o.createElement(y,{counter:n,index:a,onIncrease:()=>(n=>{t(e.map(((e,t)=>t===n?e+1:e)))})(a),onDecrease:()=>(n=>{t(e.map(((e,t)=>t===n?e-1:e)))})(a)}))),o.createElement("p",null,"Som van de tellers: ",e.reduce(((e,t)=>e+t),0)),o.createElement("button",{onClick:()=>{t([...e,0])}},"Voeg teller toe"))},E=()=>o.createElement("div",null,o.createElement(f,null));var x=n(2004);const A={},z="Labo 7",j={unversionedId:"wf-course/labs/react-basics/lab7",id:"wf-course/labs/react-basics/lab7",title:"Labo 7",description:"- Communicatie tussen componenten",source:"@site/docs/wf-course/labs/react-basics/lab7.md",sourceDirName:"wf-course/labs/react-basics",slug:"/wf-course/labs/react-basics/lab7",permalink:"/webframeworks-cursus/wf-course/labs/react-basics/lab7",draft:!1,tags:[],version:"current",frontMatter:{},sidebar:"wfCourse",previous:{title:"Labo 6",permalink:"/webframeworks-cursus/wf-course/labs/react-basics/lab6"},next:{title:"Labo 8",permalink:"/webframeworks-cursus/wf-course/labs/react-basics/lab8"}},T={},D=[{value:"1. Counter List",id:"1-counter-list",level:2},{value:"2. Todo App",id:"2-todo-app",level:2},{value:"Oplossingsvideo",id:"oplossingsvideo",level:3},{value:"3. Quizapp",id:"3-quizapp",level:2},{value:"Oplossingsvideo",id:"oplossingsvideo-1",level:3},{value:"4. Happy Workers",id:"4-happy-workers",level:2}],S={toc:D};function q(e){let{components:t,...n}=e;return(0,r.kt)("wrapper",(0,a.Z)({},S,n,{components:t,mdxType:"MDXLayout"}),(0,r.kt)("h1",{id:"labo-7"},"Labo 7"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"Communicatie tussen componenten")),(0,r.kt)("h2",{id:"1-counter-list"},"1. Counter List"),(0,r.kt)("p",null,"We beginnen in deze oefening van de volgende code:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-typescript",metastring:'codesandbox={"template": "react", "filename": "src/App.tsx"}',codesandbox:'{"template":','"react",':!0,'"filename":':!0,'"src/App.tsx"}':!0},'const CounterList = () => {\n    const [counters, setCounters] = useState<number[]>([]);\n\n    const addCounter = () => {\n        setCounters([...counters, 0]);\n    }\n\n    const increaseCounter = (index: number) => {\n        setCounters(counterCpy => counterCpy.map((counter, i) => (i === index) ? counter + 1 : counter));\n    }\n\n    const decreaseCounter = (index: number) => {\n        setCounters(counterCpy => counterCpy.map((counter, i) => (i === index) ? counter - 1 : counter));\n    }\n\n    return (\n        <>\n            {counters.map((counter, index) => {\n                let color = "black";\n                if (counter > 0) {\n                    color = "green";\n                } else if (counter < 0) {\n                    color = "red";\n                }\n                return (\n                    <div style={{ display: "flex", flexDirection: "row", alignItems: "center", justifyContent: "center" }}>\n                        <button onClick={() => decreaseCounter(index)}>Omlaag</button>\n                        <div style={{ flex: 1, display: "flex", justifyContent: "center", alignItems: "center", color: color }}>Count: {counter}</div>\n                        <button onClick={() => increaseCounter(index)}>Omhoog</button>\n                    </div>\n                )\n            })}\n            <p>Som van de tellers: {counters.reduce((prev, curr) => prev + curr, 0)}</p>\n            <button onClick={addCounter}>Voeg teller toe</button>\n        </>\n    )\n}\n')),(0,r.kt)("p",null,"Dit is een implementatie van de ",(0,r.kt)("inlineCode",{parentName:"p"},"CounterList")," component dat je in een voorgaande oefening hebt gemaakt. Hier was het nog niet de bedoeling om een aparte component te maken voor de ",(0,r.kt)("inlineCode",{parentName:"p"},"Counter")," component. We gaan dit nu wel doen."),(0,r.kt)("p",null,"Maak een nieuwe component ",(0,r.kt)("inlineCode",{parentName:"p"},"Counter")," aan. Deze component bevat een teller die je kan verhogen en verlagen. De ",(0,r.kt)("inlineCode",{parentName:"p"},"Counter")," component bevat de volgende properties:"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"value"),": de waarde van de teller"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"onIncrease"),": een callback functie die opgeroepen wordt als de teller verhoogd wordt"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"onDecrease"),": een callback functie die opgeroepen wordt als de teller verlaagd wordt"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"index"),": de index van de teller in de lijst van tellers")),(0,r.kt)("p",null,"Zorg er nu voor dat de ",(0,r.kt)("inlineCode",{parentName:"p"},"CounterList")," component de ",(0,r.kt)("inlineCode",{parentName:"p"},"Counter")," component gebruikt. De ",(0,r.kt)("inlineCode",{parentName:"p"},"CounterList")," component bevat nog steeds de state van de tellers. De ",(0,r.kt)("inlineCode",{parentName:"p"},"Counter")," component bevat geen state. De ",(0,r.kt)("inlineCode",{parentName:"p"},"Counter")," component gebruikt de properties om de teller te tonen en de callbacks op te roepen."),(0,r.kt)(E,{mdxType:"CounterListCallback"}),(0,r.kt)("h2",{id:"2-todo-app"},"2. Todo App"),(0,r.kt)("p",null,"We beginnen van een voorgemaakte Todo app. Deze app bevat een lijst van taken die je kan toevoegen en verwijderen. De app bevat ook een input veld waar je een nieuwe taak kan toevoegen."),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-typescript",metastring:'codesandbox={"template": "react", "filename": "src/App.tsx"}',codesandbox:'{"template":','"react",':!0,'"filename":':!0,'"src/App.tsx"}':!0},'import React, {useState} from "react";\n\ninterface TodoItem { \n    name: string;\n    completed: boolean;\n}\n\nconst App = () => {\n    const [todos, setTodos] = useState<TodoItem[]>([]);\n    const [todo, setTodo] = useState("");\n\n    const addTodo = (todo: string) => {\n        setTodos([...todos, { name: todo, completed: false }]);\n        setTodo("");\n    };\n\n    const markCompleted = (index: number, completed: boolean) => {\n        setTodos(todos.map((todo, i) => i === index ? {...todo, completed: completed} : todo));\n    };\n\n    return (\n        <div>\n            <div>\n                <input id="todo" type="text" value={todo} onChange={(event) => setTodo(event.target.value)}/>\n                <button onClick={() => addTodo(todo)}>Add</button>\n            </div>\n            <div>\n                {todos.map((todo, index) => (\n                    <div key={index}>\n                        <input type="checkbox" checked={todo.completed} onChange={(event) => markCompleted(index, event.target.checked)}/>\n                        <span style={{textDecoration: todo.completed ? "line-through" : "none"}}>{todo.name}</span>\n                    </div>\n                ))}\n            </div>\n        </div>\n    );\n\n}\n\nexport default App;\n')),(0,r.kt)("p",null,"Herstructureer deze applicatie als volgt:"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"Maak drie nieuwe componenten aan in een aparte map ",(0,r.kt)("inlineCode",{parentName:"li"},"components"),":",(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"TodoList")," bevat de lijst van taken"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"TodoItem")," bevat een enkele taak"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"TodoInput")," bevat het input veld en de knop om een taak toe te voegen"))),(0,r.kt)("li",{parentName:"ul"},"Verplaats de logica van de ",(0,r.kt)("inlineCode",{parentName:"li"},"App")," component naar de nieuwe componenten"),(0,r.kt)("li",{parentName:"ul"},"De state die de Todo's bevat moet in de ",(0,r.kt)("inlineCode",{parentName:"li"},"App")," component blijven. "),(0,r.kt)("li",{parentName:"ul"},"Je zal dus moeten gebruik maken van ",(0,r.kt)("inlineCode",{parentName:"li"},"props")," om de state door te geven aan de nieuwe componenten. Je zal ook gebruik moeten maken van child-to-parent communicatie om de state te kunnen updaten."),(0,r.kt)("li",{parentName:"ul"},"Zorg dat elk component in een aparte file staat.")),(0,r.kt)("div",{style:{padding:10,border:"1px dotted black"}},(0,r.kt)(b,{mdxType:"Labo6Todo"})),(0,r.kt)("h3",{id:"oplossingsvideo"},"Oplossingsvideo"),(0,r.kt)(x.Z,{controls:!0,url:"https://youtu.be/RNC2X9D3XbI",mdxType:"ReactPlayer"}),(0,r.kt)("h2",{id:"3-quizapp"},"3. Quizapp"),(0,r.kt)("p",null,"Maak een nieuwe React applicatie aan en noem deze ",(0,r.kt)("inlineCode",{parentName:"p"},"labo5-quizapp"),"."),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"Maak een nieuw component ",(0,r.kt)("inlineCode",{parentName:"li"},"QuizApp")," aan."),(0,r.kt)("li",{parentName:"ul"},"Maak gebruik van de ",(0,r.kt)("inlineCode",{parentName:"li"},"https://opentdb.com/api.php?amount=10")," om de quizvragen op te halen. Gebruik de ",(0,r.kt)("inlineCode",{parentName:"li"},"fetch")," API om de data op te halen. Gebruik een ",(0,r.kt)("inlineCode",{parentName:"li"},"useEffect")," om deze data op te halen en daarna in een state te plaatsen."),(0,r.kt)("li",{parentName:"ul"},"Er zijn twee soorten vragen: multiple choice en true/false. Maak een component ",(0,r.kt)("inlineCode",{parentName:"li"},"MultipleChoiceQuestion")," en een component ",(0,r.kt)("inlineCode",{parentName:"li"},"TrueFalseQuestion")," aan. Deze componenten worden gebruikt om de vragen te tonen. Maak een component ",(0,r.kt)("inlineCode",{parentName:"li"},"Question")," aan die de juiste vraag component toont op basis van het type vraag."),(0,r.kt)("li",{parentName:"ul"},"Als de gebruiker op een antwoord klikt wordt er aan de hand van een kleur aangegeven of het antwoord juist of fout is. Daarna wordt het antwoord getoond en kan de gebruiker niet meer van antwoord veranderen."),(0,r.kt)("li",{parentName:"ul"},"Onderaan staat een button met de tekst 'Load More' die de volgende 10 vragen laadt. De vragen worden opnieuw opgehaald van de API. De vragen die al getoond of beantwoord zijn blijven in de lijst staan."),(0,r.kt)("li",{parentName:"ul"},"Voorzie een loading indicator die getoond wordt tot de data geladen is (ook bij het laden van de volgende 10 vragen)."),(0,r.kt)("li",{parentName:"ul"},"Alle state moet in de ",(0,r.kt)("inlineCode",{parentName:"li"},"QuizApp")," component zitten. De ",(0,r.kt)("inlineCode",{parentName:"li"},"Question")," componenten mogen ",(0,r.kt)("strong",{parentName:"li"},"geen")," state hebben. De ",(0,r.kt)("inlineCode",{parentName:"li"},"Question")," componenten moeten de state van de ",(0,r.kt)("inlineCode",{parentName:"li"},"QuizApp")," componenten gebruiken via props en callbacks. "),(0,r.kt)("li",{parentName:"ul"},"Maak gebruik van de ",(0,r.kt)("inlineCode",{parentName:"li"},"html-entities")," package om de html entities te decoderen. Deze worden meegeleverd in de API. Anders krijg je bijvoorbeeld ",(0,r.kt)("inlineCode",{parentName:"li"},"&quot;")," te zien in plaats van ",(0,r.kt)("inlineCode",{parentName:"li"},'"'),".")),(0,r.kt)("div",{style:{padding:10,border:"1px dotted black"}},(0,r.kt)(m,{mdxType:"Labo6Quizapp"})),(0,r.kt)("h3",{id:"oplossingsvideo-1"},"Oplossingsvideo"),(0,r.kt)(x.Z,{controls:!0,url:"https://youtu.be/L00lS5tKMcQ",mdxType:"ReactPlayer"}),(0,r.kt)("h2",{id:"4-happy-workers"},"4. Happy Workers"),(0,r.kt)("p",null,"Maak een nieuwe React applicatie aan en noem deze labo5-happy."),(0,r.kt)("p",null,"Plaats in de ",(0,r.kt)("inlineCode",{parentName:"p"},"App")," component een progressbar (van 0 tot 100) en maak een component genaamd ",(0,r.kt)("inlineCode",{parentName:"p"},"Square"),". Het ",(0,r.kt)("inlineCode",{parentName:"p"},"Square")," component aanvaard initieel gewoon een color en een size prop. Later gaan hier nog props bij komen. Zorg ervoor dat je een aantal ",(0,r.kt)("inlineCode",{parentName:"p"},"Square")," componenten toevoegd aan de ",(0,r.kt)("inlineCode",{parentName:"p"},"App")," component met verschillende kleuren. "),(0,r.kt)("p",null,"Maak een state ",(0,r.kt)("inlineCode",{parentName:"p"},"work")," aan in de ",(0,r.kt)("inlineCode",{parentName:"p"},"App")," component die initieel op 0 staat en de waarde voorstelt die de progressbar moet tonen. "),(0,r.kt)("p",null,"Zorg ervoor dat als je op een ",(0,r.kt)("inlineCode",{parentName:"p"},"Square")," klikt, de ",(0,r.kt)("inlineCode",{parentName:"p"},"work")," state met 1 verhoogd wordt. Dit zorgt ervoor dat de progressbar met 1% verhoogd wordt."),(0,r.kt)("p",null,"Als de ",(0,r.kt)("inlineCode",{parentName:"p"},"work")," state kleiner is dan 100 dan moet de ",(0,r.kt)("inlineCode",{parentName:"p"},"Square")," component een \ud83d\ude10 tonen. Als de ",(0,r.kt)("inlineCode",{parentName:"p"},"work")," state 100 is dan moet de ",(0,r.kt)("inlineCode",{parentName:"p"},"Square")," component een \ud83d\ude03 tonen. Let er op: het tonen van de smileys vereist geen nieuwe state. Je kan dit afleiden van de ",(0,r.kt)("inlineCode",{parentName:"p"},"work")," state."),(0,r.kt)(h,{useProductivity:!1,mdxType:"HappyWorkers"}),(0,r.kt)("p",null,"Uitbreiding:"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"Maak een ",(0,r.kt)("inlineCode",{parentName:"li"},"state")," genaamd ",(0,r.kt)("inlineCode",{parentName:"li"},"productivity")," aan in de Square component die initieel op 1 staat. De ",(0,r.kt)("inlineCode",{parentName:"li"},"productivity")," state stelt voor hoeveel procent de ",(0,r.kt)("inlineCode",{parentName:"li"},"work")," state verhoogd wordt als je op de ",(0,r.kt)("inlineCode",{parentName:"li"},"Square")," klikt. "),(0,r.kt)("li",{parentName:"ul"},"Dus als de ",(0,r.kt)("inlineCode",{parentName:"li"},"productivity")," 1 is wordt bij elke klik de ",(0,r.kt)("inlineCode",{parentName:"li"},"work")," state met 1 verhoogd. Als de ",(0,r.kt)("inlineCode",{parentName:"li"},"productivity")," 2 is wordt bij elke klik de ",(0,r.kt)("inlineCode",{parentName:"li"},"work")," state met 2 verhoogd."),(0,r.kt)("li",{parentName:"ul"},"Maak een ",(0,r.kt)("inlineCode",{parentName:"li"},"state")," genaamd ",(0,r.kt)("inlineCode",{parentName:"li"},"clicked")," aan in de Square component die initieel op 0 staat."),(0,r.kt)("li",{parentName:"ul"},"Als de ",(0,r.kt)("inlineCode",{parentName:"li"},"clicked")," state groter of gelijk is aan 10 dan moet de ",(0,r.kt)("inlineCode",{parentName:"li"},"productivity")," state op 0 gezet worden. Dit zorgt ervoor dat de ",(0,r.kt)("inlineCode",{parentName:"li"},"Square")," component een \ud83d\ude35 toont. Het is dan tijdelijk niet meer mogelijk de ",(0,r.kt)("inlineCode",{parentName:"li"},"work")," state te verhogen met die ",(0,r.kt)("inlineCode",{parentName:"li"},"Square"),"."),(0,r.kt)("li",{parentName:"ul"},"Na 5 seconden moet de ",(0,r.kt)("inlineCode",{parentName:"li"},"productivity")," state terug op 1 gezet worden. Dit zorgt ervoor dat de ",(0,r.kt)("inlineCode",{parentName:"li"},"Square")," component terug een \ud83d\ude10 toont. Ook de ",(0,r.kt)("inlineCode",{parentName:"li"},"clicked")," state wordt terug op 0 gezet.")),(0,r.kt)(h,{useProductivity:!0,mdxType:"HappyWorkers"}))}q.isMDXComponent=!0}}]);