"use strict";(self.webpackChunkwebframeworks_cursus=self.webpackChunkwebframeworks_cursus||[]).push([[3942],{28453:(e,n,r)=>{r.d(n,{R:()=>s,x:()=>d});var t=r(96540);const a={},i=t.createContext(a);function s(e){const n=t.useContext(i);return t.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function d(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(a):e.components||a:s(e.components),t.createElement(i.Provider,{value:n},e.children)}},59573:(e,n,r)=>{r.r(n),r.d(n,{assets:()=>l,contentTitle:()=>d,default:()=>m,frontMatter:()=>s,metadata:()=>t,toc:()=>o});const t=JSON.parse('{"id":"wf-course/typescript-revisited/immutability","title":"Immutability","description":"Immutability of onveranderlijkheid is een heel belangrijk concept dat je onder de knie moet hebben. Eigenlijk is het een heel eenvoudig concept:","source":"@site/docs/wf-course/typescript-revisited/immutability.md","sourceDirName":"wf-course/typescript-revisited","slug":"/wf-course/typescript-revisited/immutability","permalink":"/webframeworks-cursus/wf-course/typescript-revisited/immutability","draft":false,"unlisted":false,"tags":[],"version":"current","sidebarPosition":8,"frontMatter":{"sidebar_position":8},"sidebar":"wfCourse","previous":{"title":"Sets","permalink":"/webframeworks-cursus/wf-course/typescript-revisited/collections/sets"},"next":{"title":"Modules","permalink":"/webframeworks-cursus/wf-course/typescript-revisited/modules"}}');var a=r(74848),i=r(28453);const s={sidebar_position:8},d="Immutability",l={},o=[{value:"Readonly",id:"readonly",level:3},{value:"Element toevoegen aan een array",id:"element-toevoegen-aan-een-array",level:3},{value:"Achteraan de array toevoegen:",id:"achteraan-de-array-toevoegen",level:4},{value:"Vooraan de array toevoegen:",id:"vooraan-de-array-toevoegen",level:4},{value:"<strong>Op een bepaalde index toevoegen:</strong>",id:"op-een-bepaalde-index-toevoegen",level:4},{value:"Element verwijderen van een array",id:"element-verwijderen-van-een-array",level:3},{value:"Verwijderen met slice",id:"verwijderen-met-slice",level:4},{value:"Element aanpassen in een array",id:"element-aanpassen-in-een-array",level:3}];function c(e){const n={code:"code",em:"em",h1:"h1",h3:"h3",h4:"h4",header:"header",p:"p",pre:"pre",strong:"strong",...(0,i.R)(),...e.components};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(n.header,{children:(0,a.jsx)(n.h1,{id:"immutability",children:"Immutability"})}),"\n",(0,a.jsxs)(n.p,{children:[(0,a.jsx)(n.strong,{children:"Immutability"})," of ",(0,a.jsx)(n.strong,{children:"onveranderlijkheid"})," is een heel belangrijk concept dat je onder de knie moet hebben. Eigenlijk is het een heel eenvoudig concept:"]}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.em,{children:'"als een variabele immutable is dan mag die na het aanmaken nooit meer aangepast worden"'})}),"\n",(0,a.jsx)(n.p,{children:"Dit wil dus zeggen als je toch een wijziging wilt maken, dat je dan een nieuwe instantie van die array of object moet aanmaken. Je zal dus moeten gebruik maken van allerlei operatoren die je hiervoor al geleerd hebt."}),"\n",(0,a.jsx)(n.h3,{id:"readonly",children:"Readonly"}),"\n",(0,a.jsxs)(n.p,{children:["Wil je dat een bepaalde variabele niet aanpasbaar is, en dus immutable dan moet je het",(0,a.jsx)(n.code,{children:"readonly"})," keyword gebruiken:"]}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-typescript",metastring:'codesandbox={"template": "typescript", "filename": "index.ts" }',children:"interface User {\n    readonly name: string;\n    readonly age:  number;\n}\nlet user : User = {\n    name: \"John\",\n    age:  30\n};\n\nuser.age = 40; // Cannot assign to 'age' because it is a read-only property.\n"})}),"\n",(0,a.jsx)(n.p,{children:"Je kan ook een array readonly maken zodat er na de creatie ervan geen nieuwe elementen meer kunnen toegevoegd worden:"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-typescript",metastring:'codesandbox={"template": "typescript", "filename": "index.ts" }',children:"let numbers : readonly number[] = [1,2,3];\nnumbers.push(4); // Property 'push' does not exist on type 'readonly number[]'.\n"})}),"\n",(0,a.jsx)(n.h3,{id:"element-toevoegen-aan-een-array",children:"Element toevoegen aan een array"}),"\n",(0,a.jsxs)(n.p,{children:["Je hebt tot nu toe altijd geleerd om elementen toe te voegen aan een array via de ",(0,a.jsx)(n.code,{children:"push"})," array methode."]}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-typescript",metastring:'codesandbox={"template": "typescript", "filename": "index.ts" }',children:"let numbers : readonly number[] = [1,2,3];\nnumbers.push(4);\n"})}),"\n",(0,a.jsxs)(n.p,{children:["Zoals je hierboven hebt gezien zal dit niet gaan met een ",(0,a.jsx)(n.code,{children:"readonly number[]"})," data type."]}),"\n",(0,a.jsx)(n.p,{children:"Willen we toch dingen toevoegen aan zo'n array dan moeten we een kopie maken van deze array met daarachter het nieuwe element aan toegevoegd. "}),"\n",(0,a.jsx)(n.h4,{id:"achteraan-de-array-toevoegen",children:"Achteraan de array toevoegen:"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-typescript",metastring:'codesandbox={"template": "typescript", "filename": "index.ts" }',children:"let numbers: readonly number[] = [1,2,3];\nnumbers = [...numbers,4];\nconsole.log(numbers);\n"})}),"\n",(0,a.jsx)(n.h4,{id:"vooraan-de-array-toevoegen",children:"Vooraan de array toevoegen:"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-typescript",metastring:'codesandbox={"template": "typescript", "filename": "index.ts" }',children:"let numbers: readonly number[] = [1,2,3];\nnumbers = [4,...numbers];\nconsole.log(numbers);\n"})}),"\n",(0,a.jsx)(n.h4,{id:"op-een-bepaalde-index-toevoegen",children:(0,a.jsx)(n.strong,{children:"Op een bepaalde index toevoegen:"})}),"\n",(0,a.jsxs)(n.p,{children:["Hiervoor heb je de array functie ",(0,a.jsx)(n.code,{children:"slice"})," nodig."]}),"\n",(0,a.jsx)(n.p,{children:"Willen we een element op index 2 toevoegen (op de 3de plaats) dan doen we dit op de volgende manier:"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-typescript",metastring:'codesandbox={"template": "typescript", "filename": "index.ts" }',children:'let numbers: readonly string[] = ["een","twee","vier"];\nnumbers = [...numbers.slice(0, 2), "drie", ...numbers.slice(2)];\nconsole.log(numbers); // ["een","twee","drie","vier"]\n'})}),"\n",(0,a.jsx)(n.p,{children:"Je zou dit kunnen veralgemenen in een zelfgeschreven functie"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-typescript",metastring:'codesandbox={"template": "typescript", "filename": "index.ts" }',children:'const addElementAtIndex = (array: readonly string[], index: number, element: string) => {\n  return [...numbers.slice(0, index), element, ...numbers.slice(index)];\n}\n\nlet numbers: readonly string[] = ["een", "twee", "vier"];\nconsole.log(addElementAtIndex(numbers, 2, "drie")); // ["een","twee","drie","vier"]\nconsole.log(addElementAtIndex(numbers, 0, "nul")); // ["een","twee","drie","vier"]\n'})}),"\n",(0,a.jsx)(n.h3,{id:"element-verwijderen-van-een-array",children:"Element verwijderen van een array"}),"\n",(0,a.jsxs)(n.p,{children:["Hetzelfde geldt voor het verwijderen van elementen van een immutable array. Je zou aan de hand van ",(0,a.jsx)(n.code,{children:"splice"})," (niet te vergissen met slice) het element kunnen verwijderen. Maar dit gaat niet met een immutable array."]}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-typescript",metastring:'codesandbox={"template": "typescript", "filename": "index.ts" }',children:'let numbers: readonly string[] = [ "nul", "een", "twee" ];\n\nnumbers.splice(0, 1); // Property \'splice\' does not exist on type \'readonly string[]\'\n'})}),"\n",(0,a.jsx)(n.p,{children:"Om een nieuwe array aan te maken waar dit element niet in voorkomt kan je dit op twee manieren doen:"}),"\n",(0,a.jsx)(n.h4,{id:"verwijderen-met-slice",children:"Verwijderen met slice"}),"\n",(0,a.jsx)(n.p,{children:"Je neemt het eerste deel van de array dat je wil behouden gevolgd door het deel dat net achter het element komt dat je wil verwijderen. Wil je bijvoorbeeld het element op index 2 verwijderen kan je dat als volgt doen"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-typescript",metastring:'codesandbox={"template": "typescript", "filename": "index.ts" }',children:'let numbers: readonly string[] = [ "nul", "een", "twee","drie" ];\n\nnumbers = [...numbers.slice(0,2), ...numbers.slice(3)];\n\nconsole.log(numbers); // ["nul","een","drie"]\n'})}),"\n",(0,a.jsx)(n.p,{children:"of in een functie gegoten:"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-typescript",metastring:'codesandbox={"template": "typescript", "filename": "index.ts" }',children:"const removeElementAtIndex = (array: readonly string[], index: number) => [...numbers.slice(0,index), ...numbers.slice(index+1)];\n"})}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Verwijderen met filter"})}),"\n",(0,a.jsx)(n.p,{children:"Je gebruikt de filter methode van de array om alle elementen te filteren waarvan de index niet overeenkomt met de index die je wil verwijderen. Willen we het element op index 2 verwijderen doen we dit als volgt:"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-typescript",metastring:'codesandbox={"template": "typescript", "filename": "index.ts" }',children:'let numbers: readonly string[] = [ "nul", "een", "twee","drie" ];\n\nnumbers = numbers.filter((number,index) => index !== 2)\n\nconsole.log(numbers);\n'})}),"\n",(0,a.jsx)(n.p,{children:"of weer in een aparte functie:"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-typescript",metastring:'codesandbox={"template": "typescript", "filename": "index.ts" }',children:"const removeElementAtIndex = (array: readonly string[], index: number) => arrays.filter((number,i) => i !== index)\n"})}),"\n",(0,a.jsx)(n.h3,{id:"element-aanpassen-in-een-array",children:"Element aanpassen in een array"}),"\n",(0,a.jsx)(n.p,{children:"Je hebt het ondertussen door. Als een array immutable is kunnen we niet zomaar de index notatie gebruiken om de array aan te passen:"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-typescript",metastring:'codesandbox={"template": "typescript", "filename": "index.ts" }',children:'let numbers: readonly string[] = [ "zes", "een", "twee","drie" ];\n\nnumbers[0] = "nul"; // Index signature in type \'readonly string[]\' only permits reading.ts(2542)\n'})}),"\n",(0,a.jsxs)(n.p,{children:["We kunnen dit oplossen aan de hand van de ",(0,a.jsx)(n.code,{children:"map"}),' functie. Willen we het element op index 0 aanpassen naar "nul" dan kunnen we dit op het volgende manier doen.']}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-typescript",metastring:'codesandbox={"template": "typescript", "filename": "index.ts" }',children:'let numbers: readonly string[] = [ "zes", "een", "twee","drie" ];\n\nnumbers = numbers.map((val,i) => (i == 0) ? "nul" : val);\n\nconsole.log(numbers);\n'})}),"\n",(0,a.jsx)(n.p,{children:"of weer in een aparte functie:"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-typescript",metastring:'codesandbox={"template": "typescript", "filename": "index.ts" }',children:"const updateElementAtIndex = (array: readonly string[],index: number, newValue: string) => array.map((val, i) => (i == index ? newValue : val));\n"})})]})}function m(e={}){const{wrapper:n}={...(0,i.R)(),...e.components};return n?(0,a.jsx)(n,{...e,children:(0,a.jsx)(c,{...e})}):c(e)}}}]);